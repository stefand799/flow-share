<!-- ============================================
     DASHBOARD PAGE
     ============================================
     
     This page displays a group dashboard with:
     - Back button to home
     - Group name and description
     - Left column (25%):
       - Group details component
       - Members list component
     - Right column (75%):
       - Toggle between Kanban and Expenses
       - Kanban board component
       - Expenses tracker component
     
     Protected route - requires authentication
     Server provides: group, currentMember, members, tasks, expenses
============================================ -->

<div class="dashboard-page">
    
    <!-- Page Header with Back Button -->
    <div class="page-header">
        <div class="header-left">
            <a href="/home" class="btn-back" title="Back to Home">
                ← Back
            </a>
            <div class="header-title">
                <h1><%= group.name %></h1>
                <p class="subtitle"><%= group.description || 'No description' %></p>
            </div>
        </div>
    </div>
    
    <!-- Main Layout: Group/Members (left) + Kanban/Expenses (right) -->
    <div class="dashboard-layout">
        
        <!-- LEFT COLUMN: Group Info + Members (25% width) -->
        <div class="left-column">
            
            <!-- Group Details Component -->
            <div class="group-section">
                <h2 class="section-title">Group Details</h2>
                <%- include('../components/group-component', { 
                    group: group, 
                    currentMember: currentMember,
                    members: members,
                    user: user
                }) %>
            </div>
            
            <!-- Members Component -->
            <div class="members-section">
                <h2 class="section-title">
                    Members 
                    <span class="count">(<%= members.length %>)</span>
                </h2>
                <%- include('../components/members-component', { 
                    members: members, 
                    currentMember: currentMember,
                    groupId: group.id,
                    user: user
                }) %>
            </div>
            
        </div>
        
        <!-- RIGHT COLUMN: Kanban/Expenses Toggle (75% width) -->
        <div class="right-column">
            
            <!-- View Toggle Buttons -->
            <div class="view-toggle">
                <button id="kanban-btn" class="toggle-btn active" data-view="kanban" type="button">
                    <span class="toggle-icon">📋</span>
                    <span class="toggle-text">Kanban Board</span>
                </button>
                <button id="expenses-btn" class="toggle-btn" data-view="expenses" type="button">
                    <span class="toggle-icon">💰</span>
                    <span class="toggle-text">Expenses</span>
                </button>
            </div>
            
            <!-- Content Container -->
            <div class="content-container">
                
                <!-- Kanban View (shown by default) -->
                <div id="kanban-view" class="view-content active">
                    <%- include('../components/kanban-component', { 
                        tasks: tasks,
                        group: group,
                        currentMember: currentMember,
                        members: members,
                        user: user
                    }) %>
                </div>
                
                <!-- Expenses View (hidden by default) -->
                <div id="expenses-view" class="view-content hidden">
                    <%- include('../components/expense-component', { 
                        expenses: expenses,
                        group: group,
                        members: members,
                        currentMember: currentMember,
                        user: user
                    }) %>
                </div>
                
            </div>
            
        </div>
        
    </div>
    
</div>

<!-- Page-specific JavaScript -->
<script src="/js/pages/dashboard-page.js"></script>