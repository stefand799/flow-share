<!-- ============================================
     LOGIN PAGE
     ============================================
     
     This page allows users to login with:
     - Username, email, or phone
     - Password
     
     On success: Redirects to /home
     On error: Shows error message
     
     Can navigate to /register to create account
============================================ -->

<div class="auth-page">
    <div class="auth-container">
        <div class="auth-card">
            
            <!-- Header -->
            <div class="auth-header">
                <h1>Welcome Back</h1>
                <p>Login to your FlowShare account</p>
            </div>
            
            <!-- Error Alert (shown when login fails) -->
            <% if (typeof error !== 'undefined' && error) { %>
            <div class="alert alert-error" id="error-alert">
                <span class="alert-icon">‚ö†Ô∏è</span>
                <span class="alert-message"><%= error %></span>
            </div>
            <% } %>
            
            <!-- Login Form -->
            <form action="/auth/login" method="POST" class="auth-form" id="login-form">
                
                <!-- Credentials Field (username, email, or phone) -->
                <div class="form-group">
                    <label for="credentials">Username, Email, or Phone *</label>
                    <input 
                        type="text" 
                        id="credentials" 
                        name="credentials" 
                        class="form-input"
                        placeholder="Enter your username, email, or phone"
                        value="<%= typeof credentials !== 'undefined' ? credentials : '' %>"
                        required
                        autofocus
                    >
                    <small class="form-error" id="credentials-error"></small>
                </div>
                
                <!-- Password Field -->
                <div class="form-group">
                    <label for="password">Password *</label>
                    <div class="input-with-icon">
                        <input 
                            type="password" 
                            id="password" 
                            name="password" 
                            class="form-input"
                            placeholder="Enter your password"
                            required
                        >
                        <button type="button" class="toggle-password" id="toggle-password" aria-label="Toggle password visibility">
                            üëÅÔ∏è
                        </button>
                    </div>
                    <small class="form-error" id="password-error"></small>
                </div>
                
                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary btn-block" id="login-submit-btn">
                    Login
                </button>
                
            </form>
            
            <!-- Divider -->
            <div class="auth-divider">
                <span>Don't have an account?</span>
            </div>
            
            <!-- Register Link -->
            <div class="auth-footer">
                <a href="/register" class="btn btn-secondary btn-block">
                    Create New Account
                </a>
            </div>
            
        </div>
    </div>
</div>

<!-- Page-specific JavaScript -->
<script src="/js/pages/login-page.js"></script>