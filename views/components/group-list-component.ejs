<div class="groups-list-container">
    <h3 class="groups-header">My Groups (<%= groups.length %>)</h3>

    <div class="carousel-wrapper"> 
        
        <!-- Left Arrow -->
        <button class="carousel-arrow left-arrow" aria-label="Previous Group">
            &#10094;
        </button>

        <!-- Carousel Container -->
        <div class="group-carousel" id="groupCarousel">
            
            <!-- User's Group Cards -->
            <% if (groups && groups.length > 0) { %>
                <% groups.forEach(group => { %>
                    <div class="group-card" 
                         data-group-id="<%= group.id %>" 
                         data-group-name="<%= group.name %>"> 
                        <h4 class="group-card-title"><%= group.name %></h4> 
                        <p class="group-card-text">Click to view details and tasks</p> 
                    </div> 
                <% }); %>
            <% } else { %>
                <div class="no-groups-message">
                    No groups found. Create one to get started!
                </div>
            <% } %>
            
            <!-- Create New Group Card -->
            <div class="group-card create-card" id="createGroupCard"> 
                <span class="create-icon">+</span> 
                <h4 class="group-card-title">Create New Group</h4> 
                <p class="group-card-text">Click to start a new group</p> 
            </div>

        </div>
        
        <!-- Right Arrow -->
        <button class="carousel-arrow right-arrow" aria-label="Next Group">
            &#10095;
        </button>

    </div> 
</div>

<!-- Create Group Modal -->
<div id="create-group-modal" class="modal hidden">
    <div class="modal-content"> 
        <h2 class="modal-title">Create New Group</h2>

        <form id="create-group-form" action="/api/groups/create" method="POST">
            <div class="form-content"> 
                
                <div class="form-group">
                    <label for="group-name">Group Name</label>
                    <input 
                        type="text" 
                        id="group-name" 
                        name="name" 
                        required
                        placeholder="e.g., Roommates Expenses"
                    >
                </div>

                <div class="form-group">
                    <label for="group-description">Description (Optional)</label>
                    <textarea 
                        id="group-description" 
                        name="description" 
                        rows="3"
                        placeholder="A brief description of the group's purpose"
                    ></textarea>
                </div>
            </div>

            <div class="button-group">
                <button type="button" id="cancel-group-create-btn" class="btn-secondary">
                    Cancel
                </button>
                <button type="submit" class="btn-primary">
                    Create Group
                </button>
            </div>
        </form>
    </div>
</div>

<script src="/js/components/group-list-component.js"></script>